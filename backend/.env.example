# Critvue Backend Environment Variables

# Security
SECRET_KEY=your-secret-key-here-change-in-production
REFRESH_SECRET_KEY=your-refresh-secret-key-here-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=30

# Database
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/critvue

# Redis
REDIS_URL=redis://localhost:6379/0

# AI APIs
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key

# File Upload
MAX_UPLOAD_SIZE=52428800
UPLOAD_DIR=uploads

# Stripe Payment & Subscription Configuration
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_test_your-stripe-secret-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-signing-secret-here
STRIPE_PRO_PRICE_ID=price_your-pro-subscription-price-id-here
STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key-here

# Stripe Setup Instructions:
# 1. Create a Stripe account at https://stripe.com
# 2. In Stripe Dashboard > Developers > API keys:
#    - Copy "Secret key" to STRIPE_API_KEY (starts with sk_test_ or sk_live_)
#    - Copy "Publishable key" to STRIPE_PUBLISHABLE_KEY (starts with pk_test_ or pk_live_)
# 3. Create a Product for "Critvue Pro" in Stripe Dashboard > Products:
#    - Name: "Critvue Pro"
#    - Pricing: Recurring, $9/month
#    - Copy the Price ID (starts with price_) to STRIPE_PRO_PRICE_ID
# 4. Set up webhook endpoint in Stripe Dashboard > Developers > Webhooks:
#    - Endpoint URL: https://your-domain.com/api/v1/webhooks/stripe
#    - Select events: customer.subscription.*, invoice.payment_*
#    - Copy the "Signing secret" to STRIPE_WEBHOOK_SECRET (starts with whsec_)
# 5. For local testing, use Stripe CLI:
#    stripe listen --forward-to localhost:8000/api/v1/webhooks/stripe

# Email (Resend/Postmark)
EMAIL_FROM=noreply@critvue.com
EMAIL_API_KEY=your-email-api-key

# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Rate Limiting
# Set ENABLE_RATE_LIMITING=false to disable rate limiting entirely (useful for testing)
# In development/testing: use lenient limits (1000/hour, 1000/minute)
# In production: use strict limits (3/hour, 5/minute, 10/minute)
ENABLE_RATE_LIMITING=false
RATE_LIMIT_REGISTRATION=1000/hour
RATE_LIMIT_LOGIN=1000/minute
RATE_LIMIT_REFRESH=1000/minute
RATE_LIMIT_PASSWORD_RESET=1000/hour
RATE_LIMIT_RESET_VERIFY=1000/minute
RATE_LIMIT_RESET_CONFIRM=1000/minute
